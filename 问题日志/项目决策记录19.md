# 项目决策记录19 - Home组件路由配置为默认页面

## 决策日期
2024年12月19日

## 问题描述
需要为Home组件创建路由配置，使其成为默认页面，同时保持LotteryPage的访问能力。

## 解决方案

### 路由系统实现
1. **安装Vue Router 4**
   - 使用npm安装vue-router@4
   - 兼容Vue 3项目架构

2. **路由配置**
   - 创建router/index.js配置文件
   - 设置Home组件为根路径("/")默认页面
   - 配置LotteryPage为"/lottery"路径

3. **应用集成**
   - 修改main.js引入并使用路由
   - 更新App.vue使用router-view
   - 移除硬编码的组件引用

### 技术实现细节

#### 路由配置结构
```javascript
const routes = [
  {
    path: '/',
    name: 'Home',
    component: Home
  },
  {
    path: '/lottery',
    name: 'Lottery', 
    component: LotteryPage
  }
]
```

#### 路由模式选择
- 使用createWebHistory()实现HTML5 History模式
- 支持干净的URL结构，无hash符号
- 更好的SEO友好性

#### 应用架构变更
- **main.js**: 添加router插件注册
- **App.vue**: 使用router-view替换静态组件
- **新增**: router/index.js路由配置文件

### 页面访问路径

| 页面 | 路径 | 组件 | 说明 |
|------|------|------|------|
| 主页 | `/` | Home.vue | 默认页面，包含可编辑文字区域 |
| 抽奖页面 | `/lottery` | LotteryPage.vue | 抽奖功能页面 |

### 用户体验优化

#### 导航便利性
- 用户可直接访问根域名进入主页
- 通过/lottery路径访问抽奖功能
- 支持浏览器前进后退按钮
- 支持书签和直接链接分享

#### 开发体验
- 热重载支持路由变更
- 组件懒加载准备就绪
- 路由守卫扩展能力

## 文件修改

### 新增文件
- `frontend/src/router/index.js` - 路由配置文件

### 修改文件
- `frontend/src/main.js` - 添加路由插件
- `frontend/src/App.vue` - 使用router-view
- `frontend/package.json` - 新增vue-router依赖

### 依赖更新
```json
{
  "dependencies": {
    "vue-router": "^4.x.x"
  }
}
```

## 验证结果
- ✅ Vue Router 4安装成功
- ✅ 路由配置文件创建完成
- ✅ Home组件设置为默认页面("/")
- ✅ LotteryPage可通过"/lottery"访问
- ✅ 开发服务器正常重载
- ✅ 浏览器预览无错误
- ✅ 路由切换功能正常

## 后续扩展建议

### 功能增强
1. **管理员页面路由**: 添加"/admin"路径
2. **路由守卫**: 实现页面访问权限控制
3. **懒加载**: 实现组件按需加载优化性能
4. **面包屑导航**: 添加页面导航指示

### 用户体验
1. **页面过渡动画**: 添加路由切换动画效果
2. **404页面**: 处理无效路径访问
3. **页面标题**: 动态设置页面title
4. **导航菜单**: 添加页面间导航组件

### 技术优化
1. **路由元信息**: 添加页面元数据配置
2. **嵌套路由**: 支持复杂页面结构
3. **路由缓存**: 实现页面状态保持
4. **动态路由**: 支持参数化路径

## 影响范围
- **应用架构**: 从单页面改为多页面路由应用
- **用户访问**: 支持直接URL访问特定页面
- **开发模式**: 支持模块化页面开发
- **部署配置**: 需要配置服务器支持History模式

## 状态
✅ 已完成

## 备注
此次路由配置为抽奖系统建立了完整的页面导航基础，Home组件现在作为默认入口页面，为后续添加管理员页面和其他功能页面奠定了架构基础。