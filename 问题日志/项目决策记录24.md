# 项目决策记录24 - 数据库表结构优化

## 决策日期
2024年12月19日

## 问题描述
数据库初始化文件中存在多个重复的表结构，需要进行整理和优化，同时统一表名命名规范。

## 发现的问题
1. 存在重复的表结构：
   - Awards 和 prizes 表功能重复
   - Participants 和 participants 表功能重复
   - Winners 和 winners 表功能重复
2. 表名命名不统一，有些是复数形式，有些是单数形式
3. 用户要求奖项表名为 Award，所有表名首字母大写

## 解决方案
1. **删除重复表**：
   - 删除 prizes 表，保留 Awards 表并重命名为 Award
   - 删除 participants 表，保留 Participants 表并重命名为 Participant
   - 删除 winners 表，保留 Winners 表并重命名为 Winner

2. **统一表名规范**：
   - 所有表名改为单数形式且首字母大写
   - Admins → Admin
   - Awards → Award
   - Epoches → Epoch
   - Participants → Participant
   - Winners → Winner

3. **优化表结构**：
   - 在 Participant 表中合并了 phone 和 email 字段
   - 统一时间字段命名和外键引用

## 最终表结构
- **Admin**: 管理员表
- **Award**: 奖项表
- **Epoch**: 轮次表
- **Participant**: 参与者表
- **Winner**: 中奖记录表

## 影响范围
- 数据库初始化脚本
- 所有相关的数据插入语句
- 外键引用关系

## 后续注意事项
1. 需要更新所有使用这些表的API接口
2. 前端代码中的表名引用需要相应更新
3. 如果已有数据库实例，需要执行数据迁移脚本

## 决策状态
✅ 已完成