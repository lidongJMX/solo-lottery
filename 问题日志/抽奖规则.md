# 年会抽奖系统中奖规则
## 概述
本项目实现了一个公平、智能的多轮抽奖系统，采用分层抽奖算法确保所有参与者都有公平的中奖机会，同时避免少数人重复中奖的情况。

## 核心设计理念
### 1. 公平性原则
- 全覆盖保证 ：优先确保未中奖者有机会中奖
- 限制重复中奖 ：设置中奖次数上限，避免少数人垄断奖品
- 分层概率 ：根据历史中奖情况调整中奖概率
### 2. 智能化分配
- 动态参与者池 ：每轮抽奖包含未中奖者 + 20%的上两轮中奖者
- 奖项等级限制 ：一等奖或二等奖只能中一次
- 中奖次数限制 ：最多中奖3次
## 参与者分层系统
todo:系统需将参与者按中奖历史分层级
## 动态概率分配策略
todo
## 全覆盖保证机制
当剩余奖品数量大于等于未中奖人数时，系统启动全覆盖模式：
- 优先保证未中奖者全覆盖
- 动态调整概率比例，确保所有人都有中奖机会
- 未中奖者比例最高可达90%
## 中奖限制规则
### 中奖次数限制
- 普通参与者：最多中奖 3次
- 一等奖获得者：最多中奖 2次
### 奖项等级限制
- 一等奖获得者不能再获得一等奖
- 已达到中奖次数上限的参与者不能再参与抽奖
### 轮次限制
- 同一轮次中，同一奖项不能重复抽取
- 当前轮次已中奖者不能在同一轮次再次中奖
## 参与者池构成
每轮抽奖的参与者池包括：

1. 所有未中奖者 （100%参与）
2. 上两轮中奖者的20% （随机选择）
## 抽奖执行流程
1. 获取参与者池 ：未中奖者 + 20%的历史中奖者
2. 过滤可用参与者 ：排除已达中奖上限和不符合条件的参与者
3. 执行分层抽奖 ：按概率选择层级，在层级内随机选择
4. 更新参与者状态 ：记录中奖信息，更新中奖次数和最高奖项等级