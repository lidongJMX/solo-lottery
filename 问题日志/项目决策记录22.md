# 项目决策记录22：奖项管理功能界面优化

## 问题描述
用户要求根据提供的界面设计图优化添加奖项功能，同时保留原有的奖品图片属性。

## 解决方案

### 1. 界面布局优化
- **对话框标题**：保持"添加奖项"标题
- **表单布局**：调整label宽度为100px，优化视觉效果
- **字段顺序**：按照设计图调整字段顺序
- **按钮样式**：将"确认添加"改为"确定"，右对齐布局

### 2. 字段结构调整

#### 原有字段保留
- **奖品图片**：保留image属性，支持图片URL输入

#### 新增字段
- **prizeLevel**：独立的奖项等级字段
- 支持特等奖、一等奖、二等奖、三等奖、四等奖、五等奖、纪念奖

#### 字段重新设计
- **奖项名称**：改为文本输入框，用户自定义输入
- **奖项描述**：改为多行文本域，支持详细描述
- **奖项数量**：数字输入框，右侧控制按钮
- **一次抽取人数**：数字输入框，最大值限制为总数量

### 3. 数据结构更新

#### 新奖品表单结构
```javascript
const newPrize = ref({
  level: '',        // 奖项名称
  name: '',         // 奖项描述
  quantity: 1,      // 总数量
  drawCount: 1,     // 一次抽取人数
  prizeLevel: '',   // 奖项等级
  image: ''         // 奖品图片
})
```

#### 现有数据兼容性
- 为现有奖品数据添加prizeLevel字段
- 表格显示时优先使用prizeLevel，兼容原有level字段

### 4. 标签颜色系统

#### 等级颜色映射
- **特等奖/一等奖**：红色(danger)
- **二等奖**：绿色(success)
- **三等奖**：橙色(warning)
- **四等奖/五等奖**：蓝色(info)
- **纪念奖**：默认颜色

### 5. 表单验证
- 必填字段：奖项名称、奖项描述、奖项等级
- 数量限制：最小值为1
- 抽取人数：不能超过总数量

### 6. 用户体验优化
- **输入框样式**：统一宽度100%
- **数字控制器**：右侧位置，便于操作
- **文本域**：3行高度，适合描述输入
- **下拉选择**：预设等级选项，减少输入错误

## 技术实现

### 1. 组件更新
- 修改AdminPage.vue中的添加奖项对话框
- 更新表格列配置，支持新的prizeLevel字段
- 优化getPrizeTagType方法，支持更多等级

### 2. 数据兼容
- 保持向后兼容，支持原有level字段
- 新增数据使用prizeLevel字段
- 表格显示时智能选择字段

### 3. 表单处理
- 增强表单验证逻辑
- 优化数据提交流程
- 改进错误提示信息

## 文件修改
- `frontend/src/components/AdminPage.vue`：更新奖项管理界面

## 验证结果
- ✅ 添加奖项对话框界面符合设计要求
- ✅ 字段顺序和布局正确
- ✅ 保留了原有奖品图片属性
- ✅ 新增奖项等级字段正常工作
- ✅ 表格显示兼容新旧数据结构
- ✅ 标签颜色系统正确显示

## 功能特色
1. **界面一致性**：严格按照设计图实现界面布局
2. **数据完整性**：保留所有原有功能，新增必要字段
3. **用户友好**：优化输入体验，减少操作复杂度
4. **向后兼容**：支持现有数据，平滑升级
5. **视觉优化**：统一的标签颜色系统，清晰的等级区分

## 后续优化建议
1. **图片上传**：考虑添加本地图片上传功能
2. **批量操作**：支持批量添加奖项
3. **模板功能**：预设常用奖项模板
4. **数据导入**：支持Excel批量导入奖项
5. **权限控制**：不同角色的操作权限管理

## 页面访问
- 管理员页面：http://localhost:3001/#/admin
- 奖项管理：点击左侧菜单"奖项管理"
- 添加奖项：点击"添加奖项"按钮